{"version":3,"sources":["services/persons.js","components/Filter.js","components/PersonForm.js","components/Name.js","components/Persons.js","components/Notification.js","components/Footer.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","console","log","data","newPerson","post","id","name","delete","put","Filter","newFilter","handleFilter","value","onChange","PersonForm","addPerson","newName","handleNewName","newNumber","handleNewNumber","onSubmit","type","Name","number","deletePerson","onClick","Persons","persons","map","person","key","Notification","message","className","Footer","style","color","fontStyle","fontSize","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","notificationMessage","setNotificationMessage","setType","useEffect","personsService","initPersons","length","showHideNotification","setTimeout","filteredPersons","filter","p","toUpperCase","includes","event","target","preventDefault","personObject","find","doService","Object","keys","forEach","alert","window","confirm","returnedPerson","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a56ed8c4.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/people'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => {\n\t\tconsole.log(\"getAll promise fulfilled\")\n\t\treturn response.data\n\t})\n}\n\nconst create = (newPerson) => {\n\tconst request = axios.post(baseUrl, newPerson)\n\treturn request.then(response => {\n\t\tconsole.log(\"create promise fulfilled\")\n\t\treturn response.data\n\t})\n}\n\nconst erase = (id, name) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => {\n\t\treturn response.data\n\t})\n}\n\nconst update = (newPerson) => {\n\tconst request = axios.put(`${baseUrl}/${newPerson.id}`, newPerson)\n\treturn request.then(response => response.data)\n}\n\nexport default {getAll, create, erase, update}","import React from 'react'\n\nconst Filter = ({newFilter, handleFilter}) => <input value={newFilter} onChange={handleFilter} />\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, newName, handleNewName, newNumber, handleNewNumber}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNewName}/>\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">Add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Name = ({name, number, deletePerson}) => {\n\treturn (\n\t\t<>\n\t\t\t<p>{name} {number}</p>\n\t\t\t<button onClick={deletePerson}>delete</button>\n\t\t</>\n\t)\n}\n\nexport default Name","import React from 'react'\nimport Name from './Name'\n\n\nconst Persons = ({persons, deletePerson}) => \n  persons.map(person => <Name key={person.name} name={person.name} number={person.number} deletePerson={() => deletePerson(person.id, person.name)}/>)\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({message, type}) => {\n\tif(message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className={type}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color: 'green',\n    fontStyle: 'italic',\n    fontSize: 16\n  }\n\n  return (\n    <div style={footerStyle}>\n      <br />\n      <em>Phonebook app footer component</em>\n    </div> \n  )\n}\n\nexport default Footer","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons'\nimport './index.css'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport Footer from './components/Footer'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n  const [ type, setType ] = useState('note')\n  //TODO tu by som mal taku otazku na niekoho skusenejsieho ci sa to da \n  //robit aj inaksie ako stale vytvarat useState. Popripade ak je to ok, \n  //tak ci to nie je problem mat vela useState.\n\n  //Dalej useEffect vyuzivam iba tu na ostatnych asynchronnych volaniach nie preco???\n  useEffect(() => {\n    console.log('effect')\n    personsService\n      .getAll()\n      .then(initPersons => {\n        setPersons(initPersons)\n      })\n  }, [])\n  console.log('render', persons.length, 'notes')\n\n  const showHideNotification = (message, type) => {\n    setNotificationMessage(message)\n    setType(type)\n    setTimeout(() => {\n      setNotificationMessage(null)\n    }, 5000);\n  }\n  \n  const addPerson = (event) => {\n    event.preventDefault()\n    let personObject = persons.find(p => p.name === newName)\n    let doService = true\n    if(!!personObject ) {\n      personObject.number = newNumber\n      Object.keys(personObject).forEach(key => {\n        if(personObject[key].length === 0) {\n          alert(`\"${key}\" is missing!`)\n          doService = false\n        }\n      })\n      if(doService && window.confirm(`${personObject.name} is already in phonebook, replace the old number with new one?`)) {\n        personsService\n          .update(personObject)\n          .then(returnedPerson => {\n            showHideNotification(`${returnedPerson.name} has a new number.`, 'note')\n          })\n          .catch(error => {\n            showHideNotification(`The person ${personObject.name} does not exist.`, 'error')\n            setPersons(persons.filter(p => p.id !== personObject.id))\n          })\n      }\n    } else {\n      personObject = {\n        name: newName,\n        number: newNumber\n      }\n      Object.keys(personObject).forEach(key => {\n        doService = doService && key.length && personObject[key]\n      })\n      if(doService) {\n        personsService\n          .create(personObject)\n          .then(newPerson => {\n            showHideNotification(`${newPerson.name} has been created.`, 'note')\n            setPersons(persons.concat(newPerson))\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(error => {\n            showHideNotification(`The person ${personObject.name} is not possible to create.`, 'error')\n          })\n      } else {\n        showHideNotification(`The person ${personObject.name} has missing parameters.`, 'error')\n      }\n\n    }\n  }\n\n  const deletePerson = (id, name) => {\n    if(window.confirm(`Delete ${name}?`)) {\n      personsService\n        .erase(id, name)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n          showHideNotification(`${name} has been deleted.`, 'note')\n        })\n        .catch(error => {\n          showHideNotification(`The person ${name} has been already deleted.`, 'error')\n          setPersons(persons.filter(p => p.id !== id))\n        })\n    }\n  }\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n  let filteredPersons = persons.filter(p => p.name.toUpperCase().includes(newFilter.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage} type={type} />\n      <Filter newFilter={newFilter} handleFilter={handleFilter} />\n      <PersonForm addPerson={addPerson} newName={newName} handleNewName={handleNewName} newNumber={newNumber} handleNewNumber={handleNewNumber} />\n      <h2>Numbers</h2>\n      <Persons persons={filteredPersons} deletePerson={deletePerson}/>\n      <div>debug: {newName}</div>\n      <Footer />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}